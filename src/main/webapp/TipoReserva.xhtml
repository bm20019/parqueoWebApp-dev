<?xml version='1.0' encoding='UTF-8' ?>
<composition xmlns="http://xmlns.jcp.org/jsf/facelets"
             template="./WEB-INF/templates/raiz.xhtml" 
             xmlns:h="http://xmlns.jcp.org/jsf/html" 
             xmlns:f="http://xmlns.jcp.org/jsf/core"
             xmlns:p="http://primefaces.org/ui">
    <define name="tabla">

        <h:form id="frmTabla">
            <p:dataTable value="#{frmTipoReserva.modelo}" var="r" lazy="true" paginator="true" rows="3" first="0">
                <p:column title="ID">
                    <h:outputText value="#{r.idTipoReserva}"/>
                </p:column>
                <p:column id="NOMBRE">
                    <h:outputText value="#{r.nombre}"/>
                </p:column>
                <p:column id="ESTADO">
                    <h:outputText value="#{r.publico ? 'ACTIVO' : 'INACTIVO'}"/>
                </p:column>
                <p:column id="Descripcion">
                    <h:outputText value="#{r.descripcion}"/>
                </p:column>
                <p:column>
                    <p:commandButton value="Seleccionar" actionListener="#{frmTipoReserva.btnSelecionarHandler}">
                        <f:attribute name="seleccionado" value="#{r.idTipoReserva}"/>
                    </p:commandButton>
                </p:column>
            </p:dataTable>

            <h:dataTable value="#{frmTipoReserva.listaRegistro}" var="r">
                <h:column>
                    <f:facet name="header">
                        ID
                    </f:facet>
                    <h:outputText value="#{r.idTipoReserva}"/>
                </h:column>
                <h:column>
                    <f:facet name="header">
                        Nombre
                    </f:facet>
                    <h:outputText value="#{r.nombre}"/>
                </h:column>
                <h:column>
                    <f:facet name="header">
                        Estado
                    </f:facet>
                    <h:outputText value="#{r.publico ? 'ACTIVO' : 'INACTIVO'}"/>
                </h:column>

                <h:column>
                    <f:facet name="header">
                        Descripcion
                    </f:facet>
                    <h:outputText value="#{r.descripcion}"/>
                </h:column>
                <h:column>
                    <h:commandButton value="Seleccionar" actionListener="#{frmTipoReserva.btnSelecionarHandler}">
                        <f:attribute name="seleccionado" value="#{r.idTipoReserva}"/>
                    </h:commandButton>
                </h:column>
            </h:dataTable>

            <h:commandButton value="NUEVO" actionListener="#{frmTipoReserva.btnNuevoHandler}" >
                <f:ajax execute="@this" render=":pnlDetalle" />
            </h:commandButton>
            <h:commandButton value="Cancelar" actionListener="#{frmTipoReserva.btnCancelarHandler}" rendered="#{not empty frmTipoReserva.registro}"/>
        </h:form>
    </define>

    <define name="detalle">
        <h:panelGroup id="pnlDetalle">
            <h:form rendered="#{not empty frmTipoReserva.registro}">
                <h:panelGrid columns="2">
                    <h:outputLabel value="ID" for="txtId"/>
                    <h:inputText id="txtId" value="#{frmTipoReserva.registro.idTipoReserva}" readonly="true" disabled="true"/>

                    <h:outputLabel value="Nombre" for="txtNombre"/>
                    <h:inputText id="txtNombre" value="#{frmTipoReserva.registro.nombre}" size="70"/>

                    <h:outputLabel value="Publico" for="chkPublico"/>
                    <h:selectBooleanCheckbox id="chkPublico" value="#{frmTipoReserva.registro.publico}"/>

                    <h:outputLabel value="Descripcion" for="txtDescripcion"/>
                    <h:inputTextarea id="txtDescripcion" value="#{frmTipoReserva.registro.descripcion}" cols="70" rows="3"/>
                </h:panelGrid>

                <h:commandButton value="Guardar" actionListener="#{frmTipoReserva.btnGuardarHandler}"/>
                <h:commandButton value="Modificar" actionListener="#{frmTipoReserva.btnModificarHandler}"/>
                <h:messages/>
            </h:form>
        </h:panelGroup>
    </define>
</composition>
